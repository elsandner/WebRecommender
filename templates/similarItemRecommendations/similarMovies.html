<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recommender System</title>
</head>

<style>
    *{
        font-family: Arial;
    }
    #headline{
        margin-left: 0.6em;
    }
    .movie {
        background-color: #84CEEB;
        color: black;
        padding: 2em;
        margin: 1em;
    }
    .headline > * {
        display: inline;
    }
    .rating{
        float: right;
        font-size: 1.5em;
    }
    .date{
        font-size: 1.2em;
    }
    .overview{
        background-color: #5AB9EA;
        color: black;
        padding: 1em;
        font-size: 1.2em;
    }


    /*CSS rules for Taps*/

    /* Style the tab */
    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
    }

    /* Style the buttons inside the tab */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ddd;
    }

    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ccc;
    }

    /* Style the tab content */
    .tabcontent {
      display: none;
      padding: 6px 12px;
      border: 1px solid #ccc;
      border-top: none;
    }

</style>

<body>
    <h1 id="headline"> 5 most similar movies for {{ movieTitle }}</h1>

    <div class="tab">
      <button class="tablinks" onclick="openResult(event, 'Algorithm1')">Similar Keywords</button> <!--event is deprecated but still works fine..-->
      <button class="tablinks" onclick="openResult(event, 'Algorithm2')">Algorithm 2</button>
      <button class="tablinks" onclick="openResult(event, 'Algorithm3')">Algorithm 3</button>
      <button class="tablinks" onclick="openResult(event, 'Algorithm4')">Algorithm 4</button>
      <button class="tablinks" onclick="openResult(event, 'Algorithm5')">Algorithm 5</button>
    </div>

    <div id="Algorithm1" class="tabcontent">
        <!-- Movie Container -->
        {% for row in searchMovie %}

            <form action="/sir/similarMovies" method="post">
                <input type = "hidden" name = "movieId" value = "{{ row.id }}" />

                <div class="movie" onclick="this.parentNode.submit();">
                    <div class="headline">
                        <h1>{{ row.title }}</h1>
                        <p class="date">  ({{ row.release_date }})</p>
                        <p class="rating">Rating: {{ row.vote_average }}/10 ( {{ row.vote_count }} reviews)</p>
                    </div>
                    <p><b>Genres: </b> {{ row.genres}}</p>

                    <p class="overview">
                         {{ row.overview }}
                    </p>
                </div>
            </form>
        {% endfor %}
    </div>

    <div id="Algorithm2" class="tabcontent">
      <p>Algorithm 2 is not implemented yet </p>
    </div>

    <div id="Algorithm3" class="tabcontent">
      <p>Algorithm 3 is not implemented yet </p>
    </div>

    <div id="Algorithm4" class="tabcontent">
      <p>Algorithm 4 is not implemented yet </p>
    </div>

    <div id="Algorithm5" class="tabcontent">
      <p>Algorithm 5 is not implemented yet </p>
    </div>


    <!--Script used to show taps-->
    <script>
        function openResult(evt, algorithm) {
          var i, tabcontent, tablinks;
          tabcontent = document.getElementsByClassName("tabcontent");
          for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
          }
          tablinks = document.getElementsByClassName("tablinks");
          for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
          }
          document.getElementById(algorithm).style.display = "block";
          evt.currentTarget.className += " active";
        }

        openResult(event, 'Algorithm1')
    </script>


</body>
</html>